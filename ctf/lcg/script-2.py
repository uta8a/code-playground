"""
input

a m
x[0] x[1]
"""

a, m = map(int, input().split())
x_0, x_1 = map(int, input().split())

b = (x_1 - a * x_0) % m
x_next = (a * x_1 + b) % m

print("x[2] = ", x_next)

"""
input

273589106256888701227431008047748271578 33768532175173312189360904452574695169
25856934949738647412159286926113740697 14275534142908783508111676187940688351
"""
