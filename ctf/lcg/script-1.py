"""
input

a b m
x[0]
"""

a, b, m = map(int, input().split())
x_0 = int(input())
# print(a,b,m,x_0)
x_next = (a * x_0 + b) % m
print("x[1] = ", x_next)

"""
input

175582075059802279263242415351490438643 155234292580992462731071746379458771087 310914141042250164306751046601578903076 
81058678331535186474272508634355159540
"""
